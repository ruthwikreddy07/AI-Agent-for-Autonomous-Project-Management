/* --- GLOBAL VARIABLES --- */
:host {
  --bg-color: #F8F9FC;
  --white: #FFFFFF;
  --text-main: #11142D;
  --text-muted: #808191;
  --border-light: #F0F0F0;
  
  --brand-purple: #6C5DD3;
  --brand-purple-light: #EBE9FA;
  --brand-blue: #3F8CFF;
  --brand-blue-light: #E3EFFF;
  --brand-yellow: #FFCE73;
  --brand-red: #FF754C;
  --brand-red-light: #FFE5D3;
  --brand-green: #34AA44;
  --brand-green-light: #E2FBD7;
}

/* --- LAYOUT --- */
.dashboard-wrapper {
  display: flex;
  height: 100vh;
  background-color: var(--bg-color);
  font-family: 'Inter', -apple-system, sans-serif;
  color: var(--text-main);
  overflow: hidden;
}

/* --- SIDEBAR --- */
.sidebar {
  width: 260px;
  background: var(--white);
  border-right: 1px solid var(--border-light);
  display: flex;
  flex-direction: column;
  padding: 24px 20px;
  flex-shrink: 0;
}

.brand { display: flex; align-items: center; gap: 12px; margin-bottom: 32px; }
.logo-mark { background: var(--text-main); color: white; width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
.brand h2 { font-size: 18px; font-weight: 700; margin: 0; letter-spacing: -0.5px; }

.search-container { display: flex; align-items: center; background: var(--bg-color); border-radius: 12px; padding: 10px 14px; margin-bottom: 32px; border: 1px solid transparent; transition: 0.2s; }
.search-container:focus-within { border-color: var(--brand-purple); background: var(--white); }
.search-icon { color: var(--text-muted); margin-right: 10px; }
.search-container input { border: none; background: transparent; outline: none; width: 100%; font-size: 14px; color: var(--text-main); }

.section-label { font-size: 11px; font-weight: 700; color: var(--text-muted); letter-spacing: 0.5px; margin-bottom: 12px; margin-top: 20px; }

.nav-links { display: flex; flex-direction: column; gap: 4px; }
.nav-item { display: flex; align-items: center; gap: 12px; padding: 12px 14px; border-radius: 12px; color: var(--text-muted); font-size: 14px; font-weight: 600; cursor: pointer; transition: 0.2s; }
.nav-item:hover { color: var(--text-main); background: var(--bg-color); }
.nav-item.active { background: var(--brand-purple-light); color: var(--brand-purple); }

.recent-projects {
  width: 100%;
  overflow: hidden;
}

.project-item {
  display: flex;
  align-items: center;
  font-size: 13px;
  font-weight: 600;
  color: var(--text-muted);
  margin-bottom: 14px;
  white-space: nowrap;      /* ðŸ‘ˆ Prevents multi-line sidebar text */
  overflow: hidden;         /* ðŸ‘ˆ Hides overflow */
  text-overflow: ellipsis;  /* ðŸ‘ˆ Adds '...' to long names */
}
.project-item:hover { color: var(--text-main); }
.project-item .dot {
  flex-shrink: 0; 
}

/* DOTS */
.dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 10px; }
.dot.red { background: var(--brand-red); }
.dot.blue { background: var(--brand-blue); }
.dot.pink { background: #FFA2C0; }
.dot.purple { background: var(--brand-purple); }
.dot.yellow { background: var(--brand-yellow); }

/* --- MAIN CONTENT --- */
.content-area { flex: 1; padding: 24px 40px; overflow-y: auto; }

/* HEADER */
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
.breadcrumbs { display: flex; align-items: center; font-size: 15px; font-weight: 600; color: var(--text-main); }
.chevron { margin: 0 10px; color: var(--text-muted); font-size: 12px; }

.header-actions { display: flex; align-items: center; gap: 16px; }
.avatars { display: flex; align-items: center; }
.avatar-circle { width: 36px; height: 36px; border-radius: 50%; border: 2px solid var(--white); margin-left: -10px; overflow: hidden; }
.avatar-circle img { width: 100%; height: 100%; object-fit: cover; }
.avatar-count {
  background: #6C5DD3; /* Use your purple theme */
  color: white;
  border: 2px solid white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 600;
  z-index: 1; /* Ensure it stays on top */
}

.icon-btn { background: var(--white); border: 1px solid var(--border-light); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-main); }
.btn-primary { background: var(--brand-purple); color: var(--white); border: none; padding: 10px 20px; border-radius: 12px; font-size: 14px; font-weight: 600; cursor: pointer; }

/* GREETING */
.greeting-row { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 30px; }
.page-title { font-size: 24px; font-weight: 700; margin: 0 0 6px 0; letter-spacing: -0.5px; }
.page-subtitle { color: var(--text-muted); font-size: 14px; margin: 0; }
.btn-outline { display: flex; align-items: center; gap: 8px; background: transparent; border: 1px solid var(--border-light); padding: 10px 16px; border-radius: 12px; font-weight: 600; cursor: pointer; color: var(--text-main); }

/* STATS GRID */
.stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px; }
.stat-card { background: var(--white); padding: 20px; border-radius: 20px; border: 1px solid rgba(0,0,0,0.02); box-shadow: 0 4px 15px rgba(0,0,0,0.02); }
.stat-top { display: flex; justify-content: space-between; margin-bottom: 12px; }
.stat-title { font-size: 14px; font-weight: 600; color: var(--text-main); }
.stat-value { font-size: 32px; font-weight: 700; margin-bottom: 12px; letter-spacing: -1px; }
.stat-trend { font-size: 12px; font-weight: 500; color: var(--text-muted); }
.badge { padding: 4px 8px; border-radius: 6px; font-weight: 700; margin-right: 6px; }
.badge-green { background: var(--brand-green-light); color: var(--brand-green); }
.badge-red { background: var(--brand-red-light); color: var(--brand-red); }
.badge-purple { background: var(--brand-purple-light); color: var(--brand-purple); }
.badge-blue { background: var(--brand-blue-light); color: var(--brand-blue); }

/* UI CARDS & CHARTS */
.charts-grid { display: flex; gap: 24px; margin-bottom: 24px; }
.flex-2 { flex: 2; }
.flex-1 { flex: 1; }

.ui-card { overflow: hidden;background: var(--white); border-radius: 24px; padding: 24px; box-shadow: 0 4px 15px rgba(0,0,0,0.02); border: 1px solid rgba(0,0,0,0.02); }
.card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }
.card-header h3 { margin: 0 0 4px 0; font-size: 16px; font-weight: 700; }
.subtitle { font-size: 12px; color: var(--text-muted); }
.btn-outline-sm { background: transparent; border: 1px solid var(--border-light); padding: 6px 12px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; color: var(--text-main); }

.legend-custom { display: flex; gap: 16px; font-size: 12px; font-weight: 600; color: var(--text-muted); margin-bottom: 20px; }
.chart-wrapper { position: relative; width: 100%; }
.line-height { height: 220px; }

/* DONUT OVERRIDES */
.donut-wrapper { position: relative; height: 180px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; }
.donut-text { position: absolute; text-align: center; }
.donut-text strong { display: block; font-size: 24px; font-weight: 700; color: var(--text-main); }
.donut-text span { font-size: 12px; color: var(--text-muted); font-weight: 500; }
.donut-legend .legend-item { display: flex; align-items: center; font-size: 13px; font-weight: 600; color: var(--text-muted); margin-bottom: 12px; }
.donut-legend .val { margin-left: auto; color: var(--text-main); }

/* TABLE */
.btn-text { background: transparent; border: none; font-size: 13px; font-weight: 600; color: var(--text-main); cursor: pointer; }
.table-responsive { width: 100%; overflow-x: auto; }
.custom-table { width: 100%; border-collapse: collapse; }
.custom-table th { text-align: left; font-size: 11px; font-weight: 700; color: var(--text-muted); letter-spacing: 0.5px; padding-bottom: 16px; border-bottom: 1px solid var(--border-light); }
.custom-table td { padding: 16px 0; font-size: 13px; border-bottom: 1px solid var(--border-light); }
.custom-table tr:last-child td { border-bottom: none; }
.font-medium { font-weight: 500; }
.text-muted { color: var(--text-muted); }
.text-green { color: var(--brand-green); font-weight: 600; }
.text-default { color: var(--text-main); font-weight: 600; }

.status-indicator { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 600; }
.status-indicator.completed { color: var(--brand-green); }
.status-indicator.pending { color: var(--brand-yellow); }
.dot-small { width: 6px; height: 6px; border-radius: 50%; }
.completed .dot-small { background: var(--brand-green); }
.pending .dot-small { background: var(--brand-yellow); }

.project-item, .card-header h3 {
  display: block !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important; /* Forces '...' */
  max-width: 100%;
}

.recent-projects {
  width: 100%;
  overflow: hidden;
}

.project-item {
  display: flex !important;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}
/* ðŸ‘‡ PASTE AT THE BOTTOM OF DASHBOARD.CSS */

/* Global Dark Background */
:host-context(body.dark-theme) .dashboard-wrapper {
  background-color: #0B1120;
  color: #E2E8F0;
}

/* Sidebar Dark */
:host-context(body.dark-theme) .sidebar {
  background-color: #111827;
  border-right-color: #1F2937;
}
:host-context(body.dark-theme) .brand h2 { color: #F8FAFC; }
:host-context(body.dark-theme) .nav-item { color: #94A3B8; }
:host-context(body.dark-theme) .nav-item:hover { background-color: #1F2937; color: #F8FAFC; }
:host-context(body.dark-theme) .nav-item.active { background-color: #1F2937; color: #6C5DD3; }

/* Main Content Dark */
:host-context(body.dark-theme) .content-area { background-color: #0B1120; }
:host-context(body.dark-theme) .page-title { color: #F8FAFC; }
:host-context(body.dark-theme) .page-subtitle { color: #94A3B8; }

/* Cards Dark */
:host-context(body.dark-theme) .stat-card,
:host-context(body.dark-theme) .ui-card {
  background-color: #1E293B;
  border: 1px solid #334155;
  box-shadow: none;
}
:host-context(body.dark-theme) .stat-value { color: #F8FAFC; }
:host-context(body.dark-theme) .card-header h3 { color: #F8FAFC; }
:host-context(body.dark-theme) .subtitle { color: #94A3B8; }

/* Search & Inputs */
:host-context(body.dark-theme) .search-container { background-color: #1F2937; border-color: #374151; }
:host-context(body.dark-theme) .search-container input { color: white; }

/* Tables */
:host-context(body.dark-theme) th { color: #94A3B8; border-bottom-color: #334155; }
:host-context(body.dark-theme) td { color: #E2E8F0; border-bottom-color: #334155; }
:host-context(body.dark-theme) .text-muted { color: #64748B; }

canvas#donutCanvas {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Ensure the count circle is sized correctly */
.avatar-count {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--brand-purple);
  color: white;
  margin-left: -10px;
  border: 2px solid white;
}